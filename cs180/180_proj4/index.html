<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Project 4</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(0, 0, 0, 0.06); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="12337bb1-483c-807a-a9a2-d263f34fbf15" class="page sans"><header><h1 class="page-title">Project 4</h1><p class="page-description"></p></header><div class="page-body"><p id="12f37bb1-483c-80f1-bdd6-cf0fe5908316" class="">
</p><p id="12f37bb1-483c-8083-ae1f-edaa0d89b5e9" class="">This project aims to stitch two pictures that were taken from the same camera view, similar to how panoramas are made by stitching together a series of images sweeping leftwards, rightwards, upwards, or downwards. Part A goes over warping images together based on manually selected correspondance points, while Part B aims to automate the selection of correspondance points.</p><h1 id="12f37bb1-483c-8015-9a14-ea3c1bf371f4" class="">Part A</h1><h2 id="12337bb1-483c-8057-91db-ec4cdcbbf348" class="">1. Gathering Pictures</h2><p id="12337bb1-483c-807d-a360-cb3099374107" class="">For my image selection, I chose to photograph the interior of Berkeley’s Anchor house, the exterior of Li Ka Shing Center, and the interior of our lecture hall. All of the photos were taken in account for the camera positioning, following Prof. Efros’s suggestion to rotate our phones based on the camera’s actual position.</p><p id="12337bb1-483c-8059-bc5e-ec342986400f" class="">For the rectifications, I chose some random pictures I took a while back of the Bart and a poster in the MTA.</p><div id="12337bb1-483c-8016-944a-c30fbd2c21b5" class="column-list"><div id="12337bb1-483c-809b-b7ac-f0e0ad7660e6" style="width:50%" class="column"><p id="12337bb1-483c-8089-b3ce-c982e9b4b299" class=""><strong>Left Set</strong></p><figure id="12337bb1-483c-80fb-9850-f8280ce51dd3" class="image"><a href="left.jpg"><img style="width:331px" src="left.jpg"/></a><figcaption>Interior of Anchor House, right image</figcaption></figure><figure id="12337bb1-483c-804a-a0ed-e56ab8bf9863" class="image"><a href="l2.jpg"><img style="width:708px" src="l2.jpg"/></a><figcaption>Exterior of Li Ka Shing Center, right image</figcaption></figure><figure id="12337bb1-483c-8088-b3f4-d817ecf591be" class="image"><a href="l3.jpg"><img style="width:708px" src="l3.jpg"/></a><figcaption>Interior of Li Ka Shing 245, left image</figcaption></figure></div><div id="12337bb1-483c-8079-b368-e2846ac0bd7b" style="width:50%" class="column"><p id="12337bb1-483c-8018-9129-c1c8a939ac30" class=""><strong>Right Set</strong></p><figure id="12337bb1-483c-80cf-b17b-d8a9a14fbe63" class="image"><a href="right.jpg"><img style="width:3024px" src="right.jpg"/></a><figcaption>Interior of Anchor House, left image</figcaption></figure><figure id="12337bb1-483c-8072-a0d7-c884621b8e56" class="image"><a href="r2.jpg"><img style="width:708px" src="r2.jpg"/></a><figcaption>Exterior of Li Ka Shing Center, left image</figcaption></figure><figure id="12337bb1-483c-80e4-9bc7-c3da02dc14ed" class="image"><a href="r3.jpg"><img style="width:708px" src="r3.jpg"/></a><figcaption>Interior of Li Ka Shing 245, right image</figcaption></figure></div></div><p id="12337bb1-483c-801a-99a1-e713178fc0be" class=""><strong>Images for Rectification</strong></p><div id="12337bb1-483c-80e7-bb13-ffe633604691" class="column-list"><div id="12337bb1-483c-801c-9e8b-f9b29cced733" style="width:50%" class="column"><figure id="12337bb1-483c-80eb-b99d-f396feb5c44d" class="image"><a href="rectf.jpg"><img style="width:330.9895935058594px" src="rectf.jpg"/></a><figcaption>Bart</figcaption></figure></div><div id="12337bb1-483c-80af-b8c6-ea33c0c5e8b7" style="width:50%" class="column"><figure id="12337bb1-483c-8011-82d4-fc1e18431e9f" class="image"><a href="warp_test2.jpg"><img style="width:707.9896240234375px" src="warp_test2.jpg"/></a><figcaption>MTA</figcaption></figure></div></div><p id="12337bb1-483c-80ad-8f6b-f38aa8141a67" class="">
</p><h2 id="12337bb1-483c-8004-9072-d89bf2c37b58" class="">2. Recovering Homographies</h2><p id="12337bb1-483c-80c2-b7a4-f74691e8fbb9" class="">In order to stitch two images of a panorama together, we have to transform and warp one of them so that the overlapping features in both images align. In order to do so, we must find some homography using the two images and their correspondance points:</p><p id="12337bb1-483c-8087-8f2a-f6c83b89902a" class="">
</p><p id="12337bb1-483c-807c-b467-e30e62dacb16" class=""><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">/</mi><mi>λ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mi mathvariant="normal">/</mi><mi>λ</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>λ</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>e</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>f</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>g</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>h</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mi mathvariant="normal">.</mi><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
  x&#x27; / \lambda \\
  y&#x27; / \lambda \\
  \lambda
 \end{bmatrix} =
\begin{bmatrix}
  a &amp; b &amp; c \\
  d &amp; e &amp; f \\
  g &amp; h &amp; 1
 \end{bmatrix}.
\begin{bmatrix}
  x \\
  y \\
  1
 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal">λ</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathnormal">λ</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">λ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">.</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span><span>﻿</span></span></p><p id="12337bb1-483c-8062-bc54-eb80a1e68d93" class="">which simplifies to</p><p id="12337bb1-483c-8059-bd26-daea4735f22a" class=""><style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mi>x</mi><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>−</mo><mi>y</mi><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mi>x</mi><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>−</mo><mi>y</mi><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>e</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>f</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>g</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>h</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
  x &amp; y &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; -xx&#x27; -yx&#x27; \\
  0 &amp; 0 &amp; 0 &amp; x &amp; y &amp; 1 &amp; -xy&#x27; -yy&#x27;
 \end{bmatrix} 
\begin{bmatrix}
  a \\
  b \\
  c \\
  d \\
  e \\
  f \\
  g \\
  h \\
  1
 \end{bmatrix}
=
\begin{bmatrix}
  x&#x27; \\
  y&#x27;
 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:10.8001em;vertical-align:-5.1501em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathnormal">x</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">−</span><span class="mord mathnormal">x</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.6499em;"><span style="top:-7.6499em;"><span class="pstrut" style="height:12.8em;"></span><span style="width:0.667em;height:10.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='10.800em' viewBox='0 0 667 10800'><path d='M403 1759 V84 H666 V0 H319 V1759 v7200 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v7200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.1501em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.65em;"><span style="top:-7.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-6.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-5.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-0.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span><span style="top:0.59em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:1.79em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:5.6499em;"><span style="top:-7.6499em;"><span class="pstrut" style="height:12.8em;"></span><span style="width:0.667em;height:10.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='10.800em' viewBox='0 0 667 10800'><path d='M347 1759 V0 H0 V84 H263 V1759 v7200 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v7200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:5.1501em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span><span>﻿</span></span></p><p id="12337bb1-483c-8084-8e20-f00f09f1bec6" class="">Which we can solve by plugging in our correspondant points into the coefficient matrix.</p><p id="12337bb1-483c-8004-9b5d-cd1a4f999f2e" class="">
</p><p id="12337bb1-483c-8028-8fd0-cf28fae2b0c2" class="">Example of correspondance points: Below we can see that the points in both images correspond to the same window in the interior of the Anchor House. We can use these points to calculate a homography between the two sets of points.</p><div id="12337bb1-483c-801b-b202-edd2d1518449" class="column-list"><div id="12337bb1-483c-80b3-a22a-cafa3694b750" style="width:50%" class="column"><figure id="12337bb1-483c-80e9-bb8b-c07f61c92a45" class="image"><a href="621876f9-e308-4675-8d10-877f4fc35384.png"><img style="width:384px" src="621876f9-e308-4675-8d10-877f4fc35384.png"/></a><figcaption>Left image</figcaption></figure></div><div id="12337bb1-483c-80c5-91d7-c2ed4ac0b714" style="width:50%" class="column"><figure id="12337bb1-483c-809d-b964-ce4b99a01e7d" class="image"><a href="35a095ad-2860-4361-b7b9-fc082bb1f4e4.png"><img style="width:384px" src="35a095ad-2860-4361-b7b9-fc082bb1f4e4.png"/></a><figcaption>right image</figcaption></figure></div></div><p id="12337bb1-483c-801a-885c-c95fd5994828" class="">
</p><h2 id="12337bb1-483c-802a-8aab-f600b848c842" class="">3. Warping Images (rectification)</h2><p id="12337bb1-483c-804a-ab24-e363b0de8b2e" class="">Given we have found a homography <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span></span><span>﻿</span></span>, we can now warp an image such that its correspondant points match a desired result. This is simply a matter of finding the new bounding box of the warped image, shifting everything to match this new bounding box, then sampling from the original image at inverse-warped points. To get the bounding box, we simply take the corners of the image and translate them with <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span></span><span>﻿</span></span>, and we take the min and max of the width and height. We then shift everything by <code>-min_width</code> and <code>-min_height</code>. We can then sample using <code>scipy.interpolate.griddata</code> at all the points in the new bounding box, and we sample the image at those points warped by <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>H</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">H^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span><span>﻿</span></span>. This should result in a warped image as seen below.</p><p id="12337bb1-483c-809a-be47-e2abe4cd2b80" class="">
</p><p id="12337bb1-483c-80ae-adcf-d3322e9bfc59" class=""><strong>MTA Pictures</strong></p><p id="12337bb1-483c-80b6-ac77-e50581ca98d5" class="">The rectified image appears flat, and the poster is square, however it’s a little blurry because we essentially stretched the left side of our original image, and also I think I was in a rush when I took this photo, so the original image is slightly blurry.</p><div id="12337bb1-483c-80b4-88c2-ea607ce86f8c" class="column-list"><div id="12337bb1-483c-8022-ad23-e2dcbd9e3724" style="width:50%" class="column"><figure id="12337bb1-483c-8099-8804-dcd673da7d56" class="image"><a href="16-points.jpg"><img style="width:330.98486328125px" src="16-points.jpg"/></a></figure><figure id="12337bb1-483c-8097-9d08-c6c7af602499" class="image"><a href="3ff01192-e3ea-4e1c-b2b1-e614d87aff59.png"><img style="width:318.41845140032945px" src="3ff01192-e3ea-4e1c-b2b1-e614d87aff59.png"/></a></figure></div><div id="12337bb1-483c-804b-9148-ccc097ef7e4d" style="width:50%" class="column"><figure id="12337bb1-483c-8059-900a-cc945c836102" class="image"><a href="19-points.jpg"><img style="width:330.98486328125px" src="19-points.jpg"/></a></figure><figure id="12337bb1-483c-80d9-b530-de4aeb68bd41" class="image"><a href="15-warped_im.jpg"><img style="width:707.9829711914062px" src="15-warped_im.jpg"/></a></figure></div></div><p id="12337bb1-483c-80a2-b6a3-ec8cf73874dc" class="">
</p><p id="12337bb1-483c-8080-8e68-ed6f448561a3" class=""><strong>Bart Pictures</strong></p><p id="12337bb1-483c-8074-9c38-fbdbee1d6c5f" class="">One small detail about these photos is that it seems more like a rotation of the image, since the original image is sorta already flat, but even then, the slight rotation causes the tilted screen to be cut off, so the text “OK” is still not aligned well.</p><div id="12337bb1-483c-80ba-a122-dd559d47888e" class="column-list"><div id="12337bb1-483c-8035-898a-e68995a7dfdf" style="width:50%" class="column"><figure id="12337bb1-483c-807c-8c38-d0291145ef2f" class="image"><a href="26-points.jpg"><img style="width:330.98486328125px" src="26-points.jpg"/></a></figure><figure id="12337bb1-483c-8020-9564-f98e8f13ef14" class="image"><a href="82c40c08-da60-42be-b893-01c62c6ed418.png"><img style="width:393.7448559670782px" src="82c40c08-da60-42be-b893-01c62c6ed418.png"/></a></figure></div><div id="12337bb1-483c-808e-af6b-cca7e0e52481" style="width:50%" class="column"><figure id="12337bb1-483c-80fe-af2a-c8201a044861" class="image"><a href="27-points.jpg"><img style="width:330.98486328125px" src="27-points.jpg"/></a></figure><figure id="12337bb1-483c-802a-a792-e87eab68cc28" class="image"><a href="25-warped_im.jpg"><img style="width:707.9829711914062px" src="25-warped_im.jpg"/></a></figure></div></div><p id="12337bb1-483c-80cd-9ddf-ca89b3e4d09a" class="">To fix this, I tried setting the correspondant points to the OK sign’s border.</p><div id="12337bb1-483c-8083-a4b2-cef3e3af6090" class="column-list"><div id="12337bb1-483c-80a1-a602-f4f6cd0c49c9" style="width:50%" class="column"><figure id="12337bb1-483c-80fc-8dca-d5192bc34af8" class="image"><a href="2-points.jpg"><img style="width:330.98486328125px" src="2-points.jpg"/></a></figure><figure id="12337bb1-483c-8070-9cc5-f86af8389826" class="image"><a href="610ab17e-0541-41d2-b498-29c86578cf4a.png"><img style="width:381.0461538461538px" src="610ab17e-0541-41d2-b498-29c86578cf4a.png"/></a></figure></div><div id="12337bb1-483c-8084-abde-d0d2c0895da4" style="width:50%" class="column"><figure id="12337bb1-483c-80ce-a982-c688d45cbb05" class="image"><a href="3-points.jpg"><img style="width:330.98486328125px" src="3-points.jpg"/></a></figure><figure id="12337bb1-483c-8034-9956-f5b4ecd68d96" class="image"><a href="1-warped_im.jpg"><img style="width:707.9829711914062px" src="1-warped_im.jpg"/></a></figure></div></div><p id="12337bb1-483c-80ce-8c91-e891fb6bb0db" class="">
</p><h2 id="12337bb1-483c-807b-8302-f25240908d90" class="">4. Blending Images</h2><p id="12337bb1-483c-8099-820a-d3f9d5b82e46" class="">In order to create a mosiac, we have to stitch the warped image with the other image we wanted to warp to. This involves creating a new canvas with both images translated such that their correspondant points match up. Then after, we need to blend the images together so that there aren’t any harsh edges.</p><p id="12337bb1-483c-806c-82a8-dff940d5ca18" class="">
</p><p id="12337bb1-483c-80e4-8c41-da97942748e2" class=""><strong>Alignment</strong></p><p id="12337bb1-483c-8088-8a7b-e7436578609e" class="">For alignment, I simply got the values that were used to shift the bounding box, and I used those values to shift both images if needed.</p><figure id="12337bb1-483c-80ca-8556-f42de17d1bf8" class="image"><a href="image.png"><img style="width:483.977294921875px" src="image.png"/></a><figcaption>Alignment works</figcaption></figure><p id="12337bb1-483c-8020-ad7e-e42104d2242f" class=""><strong>Blending</strong></p><p id="12337bb1-483c-8002-a43e-ee7d91e1778f" class="">For blending, I chose to use the method from Project 2 and blend the two images together using multi-resolution blending which involves blending the laplacian stacks of the two images based onthe gaussian stack of the given mask. For the mask, I simply subtracted the center image’s mask from the side image’s mask.</p><p id="12337bb1-483c-8035-b23a-feda1f2d3d20" class="">
</p><figure id="12337bb1-483c-809f-9053-e49bdeef9fd5" class="image"><a href="3-stiched.jpg"><img style="width:277.992431640625px" src="3-stiched.jpg"/></a></figure><p id="12337bb1-483c-8052-84d3-efb13a52f456" class="">
</p><figure id="12337bb1-483c-802d-b874-f547f2049dce" class="image"><a href="image%201.png"><img style="width:432px" src="image%201.png"/></a><figcaption>Gaussian blurring seems to work</figcaption></figure><p id="12337bb1-483c-80ab-b176-e3172a7219b0" class=""><strong>Adding back lost information</strong></p><p id="12337bb1-483c-80d8-a214-d64abdbc50c6" class="">I noticed that some of the edges of the image were faded, so I added back the original images in the non-overlapping sections of the mask. This was my final result:</p><figure id="12337bb1-483c-8082-9041-e65d79ae3e46" class="image"><a href="3-stiched%201.jpg"><img style="width:576px" src="3-stiched%201.jpg"/></a><figcaption>Final product, when only applying the multi-resolution blending to the intersection of the masks</figcaption></figure><p id="12337bb1-483c-80ba-bab5-e7deb35cf7ab" class="">
</p><p id="12337bb1-483c-80d3-b70e-e785f308f6dd" class=""><strong>More results</strong></p><figure id="12337bb1-483c-8002-a76e-d20eef022403" class="image"><a href="6-stiched.jpg"><img style="width:707.9829711914062px" src="6-stiched.jpg"/></a><figcaption>Exterior of Li Ka Shing Center; We can see there is a small part where the colors of the building clearly fade, but it’s not too harsh</figcaption></figure><p id="12337bb1-483c-803f-8c48-ec7980fb1c8c" class="">
</p><figure id="12337bb1-483c-80b8-a4b4-ccabdc2d8239" class="image"><a href="9-stiched.jpg"><img style="width:707.9735107421875px" src="9-stiched.jpg"/></a><figcaption>Interior of La Ki Shing 245 stitched</figcaption></figure><h1 id="12d37bb1-483c-80c7-837a-e228ffde9236" class="">Part B: Automatic Correspondance Detection</h1><p id="12d37bb1-483c-805d-912a-d7a24e6b69e3" class="">Rather than manually selecting correspondance points between images, this next part aims to automate this process through feature detection and matching.</p><p id="12d37bb1-483c-80fe-85f2-e8c1f09f4d9f" class="">
</p><h3 id="12d37bb1-483c-805c-a177-cd93365aaf8f" class="">Detecting corner features</h3><p id="12d37bb1-483c-8072-b51a-e8d41339d7c0" class="">To find points of interest for our correspondance points, we used Harris corners. This simply involved computing all the harris corners, and taking the corners with the strongest corner strengths. Below is a depiction of the image, the top corners of a test image of a long exposure of the SF Salesforce Tower, and a slight streak of a plane. We can see that the detected points of interest are at portions of the image where the corner strength is high.</p><figure id="12f37bb1-483c-8024-8c67-dcc49b97f9a9" class="image"><a href="image%202.png"><img style="width:414px" src="image%202.png"/></a><figcaption>Original image</figcaption></figure><div id="12f37bb1-483c-808d-ab74-ec0bee22fca6" class="column-list"><div id="12f37bb1-483c-801d-89d7-d1057ada4d87" style="width:50%" class="column"><figure id="12f37bb1-483c-807b-ada5-dc4c2f49e5e2" class="image"><a href="image%203.png"><img style="width:292.5px" src="image%203.png"/></a><figcaption>Top 1000 corners</figcaption></figure><p id="12f37bb1-483c-808a-a6dd-deffc13e783a" class="">
</p></div><div id="12f37bb1-483c-8010-ba1a-e2d61e2b1810" style="width:50%" class="column"><figure id="12f37bb1-483c-8037-971e-ec97ba5d921b" class="image"><a href="image%204.png"><img style="width:292.5px" src="image%204.png"/></a><figcaption>Harrison matrix showing the strengths at each part of the image.</figcaption></figure></div></div><p id="12f37bb1-483c-80cf-80a3-f2748162cddf" class="">
</p><h3 id="12f37bb1-483c-805e-a34b-d9222773592a" class="">ANMS</h3><p id="12f37bb1-483c-801d-b254-ca596af0d9b4" class="">When choosing interest points, we might want to choose points that aren’t too close to each other, so to do this, we use Adaptive Non-Maximal Suppression (ANMS). At a high level, this involves supressing interest points that are close together. The high level algorithm involves iterating through each point, calculating a minimum supression radius for each point (based on distance to a stronger/similar-strength point), then choosing the top points based on the largest radii.</p><p id="12f37bb1-483c-809b-b376-f8acf03d77a0" class="">
</p><p id="12f37bb1-483c-8002-8605-dab03ffd583c" class="">Below, we can see that the corner selection is much spread out when ANMS is applied.</p><div id="12f37bb1-483c-8055-bdcc-e05432837dc9" class="column-list"><div id="12f37bb1-483c-8052-83cc-fa852702e70c" style="width:50.000000000000014%" class="column"><figure id="12f37bb1-483c-809e-b935-f1f775069939" class="image"><a href="image%205.png"><img style="width:292.484375px" src="image%205.png"/></a><figcaption>Raw sorted, top 250</figcaption></figure></div><div id="12f37bb1-483c-8079-a91f-c0ab9739a59b" style="width:50%" class="column"><figure id="12f37bb1-483c-8052-80bf-d153cdc4047d" class="image"><a href="image%206.png"><img style="width:292.484375px" src="image%206.png"/></a><figcaption>ANMS applied, top 250</figcaption></figure></div></div><p id="12f37bb1-483c-8006-bd97-ec4522ca25f7" class="">
</p><h3 id="12d37bb1-483c-80b6-951c-c6f767302a86" class="">Extracting Feature Descriptors</h3><p id="12f37bb1-483c-8089-bf44-c33f00cae826" class="">When choosing correspondance points, we have to find someway to match points in the two images, but in order to match, we need some criteria to compare points in two different images. In this implementation, I used a simple 8x8 patch that sampled from a specified window around a given point (I ended up goin with a 80x80 window since that seemed to work better than a 40x40 window). I also normalized each patch so that the means is 0 and the standard deviation is 1 to make features invariant to changes between the two images.</p><p id="12d37bb1-483c-805f-b064-c1b9eaa939a6" class="">Below are 5 points from the Salesforce Tower image and some corresponding feature descriptors.</p><figure id="12d37bb1-483c-8077-a022-f0aee8a61df6" class="image"><a href="image%207.png"><img style="width:626px" src="image%207.png"/></a><figcaption>Points</figcaption></figure><figure id="12d37bb1-483c-8092-be5b-c7369d794eb6" class="image"><a href="image%208.png"><img style="width:707.9479370117188px" src="image%208.png"/></a><figcaption>Feature Descriptors</figcaption></figure><p id="12d37bb1-483c-80d1-9726-fa437ca1451e" class="">
</p><h3 id="12d37bb1-483c-8013-a673-f5a61621106f" class="">Matching feature descriptors</h3><p id="12d37bb1-483c-8015-b679-e2951b8e927a" class="">With this mechanism, we can take the corresponding feature descriptors and match poitns based on comparrisons between descriptors. The basic algorithm at a high level consists of iterating through one list of descriptors, computing the distances between that descriptor and the rest of the descriptors, and choosing the closest descriptor. However, sometimes there might be innacurate matches if some feature has multiple similar features, so to work around this, we use Lowe’s technique of making sure the second closest descriptor is not similar enough: <code>nearest_dist / second_nearest_dist &lt; lowe_thresh</code>. </p><p id="12d37bb1-483c-801b-b664-f1cb5a915d37" class="">Below are some results before implementing ANMS. We can see that matching pairs have similar-looking descriptors, and also belong in somewhat similar spots.</p><div id="12d37bb1-483c-80cf-b343-cf8106f4dfeb" class="column-list"><div id="12d37bb1-483c-8048-a373-e21a10d0f718" style="width:50%" class="column"><figure id="12d37bb1-483c-8070-a72a-cbb4dd609f18" class="image"><a href="image%209.png"><img style="width:330.9895935058594px" src="image%209.png"/></a></figure></div><div id="12d37bb1-483c-8016-bfb0-f9f68fe2c6aa" style="width:50%" class="column"><figure id="12d37bb1-483c-80bf-8ef5-f415851137ea" class="image"><a href="image%2010.png"><img style="width:330.9895935058594px" src="image%2010.png"/></a></figure></div></div><div id="12d37bb1-483c-80a4-be4a-f10ff35fa12d" class="column-list"><div id="12d37bb1-483c-8013-8fd4-f64a1f19fac7" style="width:50%" class="column"><figure id="12d37bb1-483c-8087-bf1c-fa51e0de12fa" class="image"><a href="image%2011.png"><img style="width:330.9895935058594px" src="image%2011.png"/></a></figure></div><div id="12d37bb1-483c-80ac-932a-dcc52481f018" style="width:50%" class="column"><figure id="12d37bb1-483c-8091-a477-cfb33ea051a3" class="image"><a href="image%2012.png"><img style="width:330.9895935058594px" src="image%2012.png"/></a></figure></div></div><p id="12f37bb1-483c-8021-8ea7-d00b62b9c259" class="">Here are some more matches after I implemented ANMS:</p><div id="12f37bb1-483c-80d9-bf23-c96059cc5ae2" class="column-list"><div id="12f37bb1-483c-80ce-b296-f6fa8e59494f" style="width:50%" class="column"><figure id="12f37bb1-483c-80de-8143-dadc37e84a30" class="image"><a href="image%2013.png"><img style="width:292.5px" src="image%2013.png"/></a></figure></div><div id="12f37bb1-483c-80e3-a297-e92b3c871b23" style="width:50%" class="column"><figure id="12f37bb1-483c-8095-888b-c1291924a3ff" class="image"><a href="image%2014.png"><img style="width:292.484375px" src="image%2014.png"/></a></figure></div></div><p id="12f37bb1-483c-80ef-abcf-f8af75fb9e40" class="">These points still are not sufficient enough, since there are still outliers, resulting in odly stiched images as seen below).</p><figure id="12f37bb1-483c-8024-8441-cf2348ab61a8" class="image"><a href="image%2015.png"><img style="width:336px" src="image%2015.png"/></a><figcaption>The resulting stich using the points from above.</figcaption></figure><p id="12f37bb1-483c-80e6-b8a3-d6f80906ede7" class="">
</p><h3 id="12d37bb1-483c-8025-b00b-fbd4f2ef1a74" class="">RANSAC to exclude outliers</h3><p id="12f37bb1-483c-8036-a5b7-e75e497b48bd" class="">There are still inaccurate matchings in the above results, typically outliers in the edges of the images that don’t have corresponding points, so we use RANSAC to exclude such outliers in our final correspondance selection.</p><p id="12f37bb1-483c-8056-9e07-fa1364f8fb2a" class="">This involved randomly sampling four feature pairs, computing the homography, warping our set of features, and computing the error of those warped features for each sample. Then we keep the sample with the largest number of inliers, that is points that were warped into their correct positions with some margin of error <code>epsilon</code>. We then take the largest set of inliers and compute the homography and use that homography to warp our image.</p><p id="12f37bb1-483c-80f1-9b77-ca4660463a49" class="">Below is a resulting set of inliers that using 500 random samples, and we can clearly see that many erroneous points from the previous set were not incuded.</p><div id="12f37bb1-483c-8024-8139-c81d49fc1a10" class="column-list"><div id="12f37bb1-483c-8052-bb85-fafa2776d280" style="width:50%" class="column"><figure id="12f37bb1-483c-8036-a369-c627242e2237" class="image"><a href="image%2016.png"><img style="width:292.484375px" src="image%2016.png"/></a></figure></div><div id="12f37bb1-483c-8076-a340-feb932c984f8" style="width:50%" class="column"><figure id="12f37bb1-483c-80a9-be73-e8012f584f84" class="image"><a href="image%2017.png"><img style="width:292.484375px" src="image%2017.png"/></a></figure></div></div><p id="12f37bb1-483c-80fd-88fd-d268887d6cb6" class="">Here is the final result:</p><div id="12f37bb1-483c-80ab-ba69-f05880568f06" class="column-list"><div id="12f37bb1-483c-80d8-b6dc-f5bbb3d9f128" style="width:50%" class="column"><figure id="12f37bb1-483c-809e-babc-f4c976937383" class="image"><a href="image%2018.png"><img style="width:330.9895935058594px" src="image%2018.png"/></a></figure></div><div id="12f37bb1-483c-8062-b96f-dbe4c1d6dfa2" style="width:50%" class="column"><figure id="12f37bb1-483c-8079-a621-e5a6f0f122fd" class="image"><a href="3-stiched%201.jpg"><img style="width:576px" src="3-stiched%201.jpg"/></a><figcaption>Original Manually chosen correspondance points</figcaption></figure></div></div><p id="12f37bb1-483c-802e-a9e1-fe8e676409cc" class="">
</p><h3 id="12e37bb1-483c-80fe-9af1-d23905161afb" class="">A Small Error</h3><p id="12f37bb1-483c-80f6-97f0-cae8cd859cc9" class="">I noticed that sometimes, the algorithm chose points in the sky that aligned with other points in the sky, and it caused really buggy correspondance points, as seen above. To fix this, instead of feeding the raw harris corneres into AMNS, which resulted in corners spread apart throughout the whole image, I filtered them out to the top 1000 corners, so that my AMNS algorithm could only select corners that are actually distinguishable (not sky).</p><p id="12f37bb1-483c-8060-b342-c36fb269f141" class="">
</p><figure id="12f37bb1-483c-8062-b27a-d3ea626aba5a" class="image"><a href="image%2019.png"><img style="width:432px" src="image%2019.png"/></a><figcaption>All the sky points from the first imageconvergred to the same point in the second image.</figcaption></figure><p id="12f37bb1-483c-80d4-9b87-d8069974030f" class="">
</p><h3 id="12f37bb1-483c-80e2-abf6-f84915c46280" class="">The Other 2 Final Results</h3><p id="12f37bb1-483c-8005-aef1-d4ed16f44e82" class="">Below are two more mosiacs as well as the automatically selected correspondance points, as well as the original manual stitches for comparison.</p><div id="12f37bb1-483c-8036-bcef-fb1185910f1e" class="column-list"><div id="12f37bb1-483c-8076-a7bd-c1712449e19c" style="width:50%" class="column"><figure id="12f37bb1-483c-800d-87f1-eaa05d358cc7" class="image"><a href="image%2020.png"><img style="width:292.484375px" src="image%2020.png"/></a></figure></div><div id="12f37bb1-483c-80ff-9bd5-f72478aed896" style="width:50%" class="column"><figure id="12f37bb1-483c-803f-a24e-f602f3236d1d" class="image"><a href="image%2021.png"><img style="width:292.484375px" src="image%2021.png"/></a></figure></div></div><div id="12f37bb1-483c-8021-a069-ecc939926e50" class="column-list"><div id="12f37bb1-483c-807b-ae7e-e22870778f60" style="width:50%" class="column"><figure id="12f37bb1-483c-8098-9023-da60658b1f3e" class="image"><a href="image%2022.png"><img style="width:292.484375px" src="image%2022.png"/></a></figure></div><div id="12f37bb1-483c-805d-b058-d1429d7067f6" style="width:50%" class="column"><figure id="12f37bb1-483c-8058-9893-f399f3cb2659" class="image"><a href="6-stiched.jpg"><img style="width:707.9829711914062px" src="6-stiched.jpg"/></a><figcaption>Original Manually chosen correspondance points</figcaption></figure></div></div><div id="12f37bb1-483c-8074-bbc3-f3418e670faa" class="column-list"><div id="12f37bb1-483c-80dd-a8fe-d68cc624dc8d" style="width:50%" class="column"><figure id="12f37bb1-483c-806f-bc36-d62906cd8715" class="image"><a href="image%2023.png"><img style="width:292.484375px" src="image%2023.png"/></a></figure></div><div id="12f37bb1-483c-80bf-988a-da2bb33a0ed8" style="width:50%" class="column"><figure id="12f37bb1-483c-801c-a7f1-cddad96149f5" class="image"><a href="image%2024.png"><img style="width:292.484375px" src="image%2024.png"/></a></figure></div></div><div id="12f37bb1-483c-80e0-93ae-f7888d404d4d" class="column-list"><div id="12f37bb1-483c-8012-8fc5-e185b235d306" style="width:50%" class="column"><figure id="12f37bb1-483c-804d-8642-c91570174766" class="image"><a href="image%2025.png"><img style="width:292.46875px" src="image%2025.png"/></a></figure></div><div id="12f37bb1-483c-8028-902f-ee3603d32732" style="width:50%" class="column"><figure id="12f37bb1-483c-8051-8af1-ce51dd85c6a2" class="image"><a href="9-stiched.jpg"><img style="width:707.9735107421875px" src="9-stiched.jpg"/></a><figcaption>Original Manually chosen correspondance points</figcaption></figure></div></div><p id="12f37bb1-483c-8020-b197-ecaa0e56c1e1" class="">
</p><p id="12f37bb1-483c-80e1-9f4d-e1d7aab16366" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>